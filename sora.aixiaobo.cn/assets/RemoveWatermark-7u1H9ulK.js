import{d as x,u as T,b as B,r as h,c as i,f,e,g as s,x as b,t,h as V,v as $,k as S,C as D,A as I,n as C,o as c,_ as N}from"./index-InSkuxQ1.js";const U={class:"watermark-page"},A={key:0,class:"roadmap-banner tech-banner"},E={class:"banner-content"},F={class:"banner-tag tech"},H={class:"content-grid"},K={class:"input-section card"},R={class:"form-group"},q={class:"label-text"},z=["placeholder"],G={class:"hint"},L={class:"example-section"},M={class:"example-title"},P=["disabled"],j={key:0},J={key:1},O={key:0,class:"result-section card"},Q={class:"result-status"},X={class:"status-text"},Y={key:0,class:"video-info"},Z={class:"info-item"},ee={class:"info-label"},se={class:"info-value"},te={class:"info-item prompt-item"},oe={class:"info-label"},ae={class:"copy-hint"},ne={class:"info-item prompt-item"},le={class:"info-label"},re={class:"copy-hint"},ie={class:"info-item"},ce={class:"info-label"},de={class:"info-value"},me={class:"info-item"},ve={class:"info-label"},pe={class:"info-value"},ue={class:"video-preview"},_e=["src","poster"],ke={class:"download-actions"},he={key:1,class:"result-section card placeholder"},fe={class:"placeholder-content"},be={class:"placeholder-hint"},We=x({__name:"RemoveWatermark",setup(ye){const{t:o}=T(),v=B(),p=h(""),u=h(!1),n=h(null);async function W(){var d,a,l;u.value=!0,n.value=null;try{const r=await I.removeWatermark(p.value),_=((l=(a=(d=r.choices)==null?void 0:d[0])==null?void 0:a.message)==null?void 0:l.content)||"è§£æžå®Œæˆ";n.value={message:_,links:r.links,post_info:r.post_info}}catch(r){console.error("è§£æžå¤±è´¥:",r)}finally{u.value=!1}}function k(d,a){const l=document.createElement("a");l.href=d,l.download=a,l.target="_blank",l.click()}async function y(d,a){try{await navigator.clipboard.writeText(d);const l=o(a==="prompt"?"removeWatermark.promptCopied":"removeWatermark.urlCopied");C.success(l)}catch(l){console.error("å¤åˆ¶å¤±è´¥:",l),C.error(o("removeWatermark.copyFailed"))}}return(d,a)=>{var l,r,_,g,w;return c(),i("div",U,[s(v).config.features.enableBanner?(c(),i("div",A,[a[6]||(a[6]=e("div",{class:"banner-icon"},"âš¡",-1)),e("div",E,[e("strong",null,t(((l=s(v).config.features.bannerConfig)==null?void 0:l.title)||s(o)("removeWatermark.banner")),1),b(" "+t(((r=s(v).config.features.bannerConfig)==null?void 0:r.description)||s(o)("removeWatermark.bannerDesc")),1)]),e("div",F,t(((_=s(v).config.features.bannerConfig)==null?void 0:_.tag)||s(o)("removeWatermark.bannerTag")),1)])):f("",!0),e("div",H,[e("div",K,[e("h3",null,t(s(o)("removeWatermark.parseTitle")),1),e("div",R,[e("label",null,[e("span",q,t(s(o)("removeWatermark.shareLink")),1),a[7]||(a[7]=e("span",{class:"required"},"*",-1))]),V(e("input",{"onUpdate:modelValue":a[0]||(a[0]=m=>p.value=m),placeholder:s(o)("removeWatermark.linkPlaceholder"),class:"url-input",onKeyup:S(W,["enter"])},null,40,z),[[$,p.value,void 0,{trim:!0}]]),e("div",G,t(s(o)("removeWatermark.linkHint")),1)]),e("div",L,[e("div",M,t(s(o)("removeWatermark.exampleTitle")),1),a[8]||(a[8]=e("div",{class:"example-url"},"https://sora.chatgpt.com/p/s_68f6140d88a88191a6b5c803d4e47b6c",-1))]),e("button",{onClick:W,disabled:u.value||!p.value,class:"parse-btn"},[u.value?(c(),i("span",J,t(s(o)("removeWatermark.parsing")),1)):(c(),i("span",j,t(s(o)("removeWatermark.parseButton")),1))],8,P)]),n.value?(c(),i("div",O,[e("h3",null,t(s(o)("removeWatermark.resultTitle")),1),e("div",Q,[e("div",{class:D(["status-icon",n.value.links?"success":"error"])},t(n.value.links?"âœ…":"âŒ"),3),e("div",X,t(n.value.links?s(o)("removeWatermark.parseSuccess"):s(o)("removeWatermark.parseFailed")),1)]),n.value.links?(c(),i("div",Y,[e("div",Z,[e("span",ee,t(s(o)("removeWatermark.postId")),1),e("span",se,t(n.value.links.id),1)]),e("div",te,[e("span",oe,t(s(o)("removeWatermark.promptText")),1),e("div",{class:"prompt-text copyable",onClick:a[1]||(a[1]=m=>y(n.value.links.text,"prompt"))},[b(t(n.value.links.text)+" ",1),e("span",ae,t(s(o)("removeWatermark.clickToCopy")),1)])]),e("div",ne,[e("span",le,t(s(o)("removeWatermark.videoUrl")),1),e("div",{class:"prompt-text copyable video-url-box",onClick:a[2]||(a[2]=m=>y(n.value.links.mp4,"url"))},[b(t(n.value.links.mp4)+" ",1),e("span",re,t(s(o)("removeWatermark.clickToCopy")),1)])]),e("div",ie,[e("span",ce,t(s(o)("removeWatermark.viewCount")),1),e("span",de,t(((g=n.value.post_info)==null?void 0:g.view_count)||0),1)]),e("div",me,[e("span",ve,t(s(o)("removeWatermark.likeCount")),1),e("span",pe,t(((w=n.value.post_info)==null?void 0:w.like_count)||0),1)]),e("div",ue,[n.value.links.mp4?(c(),i("video",{key:0,src:n.value.links.mp4,controls:"",poster:n.value.links.thumbnail,class:"video-player"},null,8,_e)):f("",!0)]),e("div",ke,[e("button",{onClick:a[3]||(a[3]=m=>k(n.value.links.mp4,"video.mp4")),class:"download-btn primary"},t(s(o)("removeWatermark.downloadVideo")),1),e("button",{onClick:a[4]||(a[4]=m=>k(n.value.links.gif,"preview.gif")),class:"download-btn secondary"},t(s(o)("removeWatermark.downloadGif")),1),e("button",{onClick:a[5]||(a[5]=m=>k(n.value.links.thumbnail,"thumbnail.webp")),class:"download-btn secondary"},t(s(o)("removeWatermark.downloadThumbnail")),1)])])):f("",!0)])):(c(),i("div",he,[e("div",fe,[a[9]||(a[9]=e("div",{class:"placeholder-icon"},"ðŸŽ¬",-1)),e("p",null,t(s(o)("removeWatermark.placeholderTitle")),1),e("p",be,t(s(o)("removeWatermark.placeholderHint")),1)])]))])])}}}),we=N(We,[["__scopeId","data-v-cb6e7ba1"]]);export{we as default};
